<div class="search-top-hotels-widget">
  <div class="widget-header">
    <h3>ğŸ¨ Most Searched Hotels</h3>
    <span class="subtitle">×”××œ×•× ×•×ª ×¢× ×”×‘×™×§×•×© ×”×’×‘×•×” ×‘×™×•×ª×¨</span>
  </div>

  <div class="widget-body">
    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
      <div class="spinner"></div>
      <p>×˜×•×¢×Ÿ × ×ª×•× ×™ ××œ×•× ×•×ª...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-state">
      <p>âŒ {{ error }}</p>
      <button (click)="loadHotels()" class="retry-btn">× ×¡×” ×©×•×‘</button>
    </div>

    <!-- Hotels List -->
    <div *ngIf="!loading && !error && hotels.length > 0" class="hotels-list">
      <div *ngFor="let hotel of hotels; let i = index" class="hotel-item" [class.top-hotel]="i === 0">
        <!-- Rank Badge -->
        <div class="hotel-rank" [class.gold]="i === 0" [class.silver]="i === 1" [class.bronze]="i === 2">
          <span *ngIf="i < 3" class="medal">{{ i === 0 ? 'ğŸ¥‡' : i === 1 ? 'ğŸ¥ˆ' : 'ğŸ¥‰' }}</span>
          <span *ngIf="i >= 3">{{ i + 1 }}</span>
        </div>

        <!-- Hotel Info -->
        <div class="hotel-info">
          <div class="hotel-name">
            {{ hotel.HotelName }}
          </div>
          <div class="hotel-location">
            ğŸ“ {{ hotel.CityName }}, {{ hotel.CountryCode }}
          </div>
          <div class="hotel-stars" *ngIf="hotel.AvgStars > 0">
            {{ getStarRating(hotel.AvgStars) }}
          </div>
        </div>

        <!-- Search Stats -->
        <div class="hotel-stats">
          <div class="stat-item main-stat">
            <span class="stat-value">{{ formatNumber(hotel.SearchCount) }}</span>
            <span class="stat-label">searches</span>
          </div>
          <div class="stat-item">
            <span class="stat-value">{{ hotel.Percentage }}%</span>
            <span class="stat-label">of total</span>
          </div>
          <div class="stat-item">
            <span class="stat-value">â‚¬{{ hotel.AvgPrice?.toFixed(0) }}</span>
            <span class="stat-label">avg price</span>
          </div>
        </div>

        <!-- Demand Level Badge -->
        <div class="demand-badge" 
             [style.background-color]="getDemandLevel(hotel.Percentage).color">
          {{ getDemandLevel(hotel.Percentage).label }}
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && !error && hotels.length === 0" class="empty-state">
      <p>××™×Ÿ × ×ª×•× ×™ ××œ×•× ×•×ª ×–××™× ×™×</p>
    </div>
  </div>
</div>
