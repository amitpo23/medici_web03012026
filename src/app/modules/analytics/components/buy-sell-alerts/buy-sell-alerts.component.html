<div class="alerts-container">
  <div class="alerts-header">
    <h2> 转专转 爪转 转</h2>
    <div class="filter-buttons">
      <button mat-button 
              [class.active]="filterType === 'all'" 
              (click)="filterType = 'all'">
         ({{ alerts.length }})
      </button>
      <button mat-button 
              [class.active]="filterType === 'buy'" 
              (click)="filterType = 'buy'">
         拽 ({{ (alerts | filter:'type':'buy').length }})
      </button>
      <button mat-button 
              [class.active]="filterType === 'sell'" 
              (click)="filterType = 'sell'">
         专 ({{ (alerts | filter:'type':'sell').length }})
      </button>
      <button mat-button 
              [class.active]="filterType === 'warning'" 
              (click)="filterType = 'warning'">
        锔 专 ({{ (alerts | filter:'type':'warning').length }})
      </button>
    </div>
    <button mat-icon-button (click)="loadAlerts()" matTooltip="专注">
      <mat-icon>refresh</mat-icon>
    </button>
  </div>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
    <p>注 转专转...</p>
  </div>

  <div *ngIf="!loading && filteredAlerts.length === 0" class="no-alerts">
    <mat-icon>notifications_none</mat-icon>
    <p> 转专转 专注</p>
  </div>

  <div *ngIf="!loading" class="alerts-list">
    <mat-card *ngFor="let alert of filteredAlerts" 
              class="alert-card"
              [ngClass]="[getAlertClass(alert.type), getPriorityClass(alert.priority)]">
      <div class="alert-header">
        <div class="alert-icon">{{ getAlertIcon(alert.type) }}</div>
        <div class="alert-info">
          <h3>{{ alert.hotelName }}</h3>
          <span class="priority-badge" [ngClass]="getPriorityClass(alert.priority)">
            {{ alert.priority === 'high' ? '注驻转 ' : 
               alert.priority === 'medium' ? '注驻转 转' : '注驻转 ' }}
          </span>
        </div>
      </div>

      <div class="alert-content">
        <p class="alert-message">{{ alert.message }}</p>

        <div *ngIf="alert.suggestedPrice || alert.potentialProfit" class="alert-details">
          <div *ngIf="alert.suggestedPrice" class="detail-item">
            <mat-icon>price_check</mat-icon>
            <span>专 爪注: {{ alert.suggestedPrice | number:'1.0-0' }}</span>
          </div>
          <div *ngIf="alert.potentialProfit" class="detail-item">
            <mat-icon>trending_up</mat-icon>
            <span>专 驻爪: {{ alert.potentialProfit | number:'1.0-0' }}</span>
          </div>
        </div>
      </div>

      <mat-card-actions>
        <button mat-button color="primary" *ngIf="alert.type === 'buy'">
          <mat-icon>shopping_cart</mat-icon>
          拽 注砖
        </button>
        <button mat-button color="warn" *ngIf="alert.type === 'sell'">
          <mat-icon>sell</mat-icon>
          专 注砖
        </button>
        <button mat-button>
          <mat-icon>info</mat-icon>
          驻专 住驻
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
